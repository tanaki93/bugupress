{% extends 'index.html' %}
{% block title %}Жаңылык жаз{% endblock %}
{% load staticfiles %}
{% block content %}
    {% load widget_tweaks %}

    <main class="container-fluid">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <h1>Көз карашыңыз</h1>
                <form method="POST" class="post-form" style="margin-bottom: 150px;">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="exampleInputEmail1">Название</label>
                        {{ form.title|add_class:"form-control"|attr:"required: required" }}
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Текст</label>
                        {{ form.body|add_class:"form-control"|attr:"required: required" }}
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Теги</label>
                        {{ form.keys|add_class:"form-control"|attr:"required: required" }}
                    </div>
                    <button type="submit" class="save btn btn-default">Сохранить</button>
                </form>
            </div>

        </div>
    </main>

{% endblock %}
{% block script %}
    <script type="text/javascript">
        $('textarea').trumbowyg(
            {
                btnsDef: {
                    // Customizables dropdowns
                },
                btns: [
                    ['undo', 'redo'],
                    ['formatting'],
                    'btnGrp-design',
                    ['link'],
                    'btnGrp-justify',
                    'btnGrp-lists',
                    ['foreColor', 'backColor'],
                    ['preformatted'],
                    ['horizontalRule'],
                    ['fullscreen']
                ],
                plugins: {
                    // Add imagur parameters to upload plugin
                    upload: {
                        serverPath: '/media/stories',
                        fileFieldName: 'image',
                        headers: {
                            'Authorization': 'Client-ID 9e57cb1c4791cea'
                        },
                        urlPropertyName: 'data.link'
                    }
                }
            }
        );
    </script>
{% endblock %}